{
  "title": "例外処理の考え方",
  "source": "---\ntags:\n  - scribble\ncreatedAt: 2025-10-30T08:15:12+09:00\nupdatedAt: 2025-11-03T20:54:44+09:00\n---\n\n\n 仕事で作っているウェブサービスのエラー処理の方針を見直す必要に迫られて、例外設計の考え方をおさらいしている。\n\n- 知識の出発点としての[「ビジネス例外」と「技術的例外」](https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/%E6%8A%80%E8%A1%93%E7%9A%84%E4%BE%8B%E5%A4%96%E3%81%A8%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E4%BE%8B%E5%A4%96%E3%82%92%E6%98%8E%E7%A2%BA%E3%81%AB%E5%8C%BA%E5%88%A5%E3%81%99%E3%82%8B/)\n\t- そもそも類語がたくさんある\n\t\t- ビジネス例外・業務例外・アプリケーション例外\n\t\t- 技術的例外・システム例外\n\t- .NET には ApplicationException とその他の System Exception という区分がある\n\t\t- https://learn.microsoft.com/ja-jp/dotnet/api/system\n\t\t- https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/\n \n- 基礎知識としてのビジネス例外と技術例外という区別\n\t- https://qiita.com/jnchito/items/3ef95ea144ed15df3637\n\t\t- コントローラと直下のモデルやサービスとの関係という意味では納得感あり\n- ビジネス例外とは、その内容に応じて処理や表示を変えたい例外\n\t- そもそもユースケースの範囲内である\n\t- フォームのバリデーションエラー\n\t- エラー画面に理由を出したい\n\t- 冒頭資料では「お前が悪い、ちゃんとやり直せ」\n- ビジネス例外は列挙可能である\n\t- わたし（モジュール）がこのエラーについてはケアしますという宣言\n\t- というか、そもそも列挙できないとモジュールの呼び出し側が処理を分岐できない\n\t- 方法としては ErrorCode を Enum として定義する、生じうる Error を列挙するのがよさそう\n- 技術例外は、業務フローを妨げる「リスク」と言い換えられる\n\t- 普通は起きないし起きてほしくないけど、起きるかもしれない状況\n\t- 開発者のデバッグレベルで理由を識別する必要があるが、処理のフローには無関係\n\t- 無関係というか、起きてしまったらどうしようもない\n- ビジネス例外は例外をスローしない（try/catch を使わない）よう実装すると、ビジネス例外とそれ以外の例外の区別をつけやすい\n\t- 例外がスローされる＝自身の責務ではコントロール不能な予想外の事態の発生、という風にふるまうのはきわめて直感的\n\t- 真逆のアンチパターンは、ビジネス例外の分岐のために try/catch が必要になるケース\n\t\t- 例：zod で入力値のバリデーションに safeParse ではなく parse を使う\n- フレームワークのエラーハンドリング機構に一括処理させたい場合は、アプリケーションのレイヤで受け取ったビジネス例外を明示的にスローするのもあり\n\t- Remix の throw new Response() とか\n\t- 典型的には ErrorCode を元に適切なエラーをスローする\n- ビジネス例外と技術例外の境界はドメインによって変わりうる\n\t- ネットワークエラーを敢えて表示した方がよいケースもある\n\t- 同一アプリケーションのレイヤによっても変わりうる\n- 上記区別とは別に、そもそもロジック上起きるはずがない例外（エラー）がある\n\t- 要は 500 エラー（モニタリングして継続的に発生を最小化すべき）\n\t- 不適切なタイミングでのドメインロジックの呼び出し\n\t\t- これは DomainError としてスローべき\n\t\t- 「ビジネス例外」と勘違いしがち\n\t- 制御フローの誤り\n\t\t- 正しく実装されていれば Unreachable なコード\n\t\t- これも UnreachableError としてスローすべき\n\t- この領域は適切に型を書けば守れることも多い\n- アプリケーションとライブラリで例外設計の考え方は変わる\n\t- ライブラリは「どう使われるかわからない」\n\t- 例外は「わたしはこの解像度までならエラーを識別できます」という宣言\n\t- Result でも throw でもよいが、何かしら呼び出し側で code や reason を分岐できる必要がある\n\t- モジュールは「アプリケーションの全体の責務分担の 1 つ」\n\t- そのモジュールがどこまでの解像度でエラーを識別するかは、むしろ呼び出し側の要請に拠る\n- 例外のスローという仕組みが、そもそもある種のホワイトリスト的な考え方\n\t- 自分が責任を持てる領域のみスローをやめて適切に処理するところから始める\n\t- それ以外はクラッシュさせる（クラッシュ寸前まで貫通させる）のがむしろ見通しが良い\n\t- 必要に応じてその領域を拡大していけばよい\n\t- この原理を理解しておけば、とりあえず全体を try/catch で囲んでレイヤリングをする、というアンチパターンを防げる\n- 一番上位のレイヤでは全体を try/catch で囲んだ方がよさそうだが、これもケースバイケース\n\t- サーバなど長時間動くプロセスがクラッシュするのはまずい\n\t\t- フレームワークを使っているならたいてい拾ってくれる\n\t- サーバレス関数の場合はそのままクラッシュさせてもよいかもしれない\n\t\t- ただしプラットフォーム側のリトライ機構に乗せたくない場合は捕捉するのもあり\n\t- バッチ処理の場合は必ず捕捉してログを取ったりしたい\n- そもそも「ビジネス例外」と「技術例外」という区分自体が、アプリケーションの例外設計のための考え方であるとも言える\n\t- ライブラリはアプリケーションではないので、ビジネス例外を Result にせず、全部例外としてスローしておく方がよいケースもある\n",
  "createdAt": "Thu Oct 30 2025 08:15:12 GMT+0900 (日本標準時)",
  "updatedAt": "Mon Nov 03 2025 20:54:44 GMT+0900 (日本標準時)",
  "tags": [
    "scribble"
  ],
  "content": {
    "type": "root",
    "children": [
      {
        "type": "yaml",
        "value": "tags:\n  - scribble\ncreatedAt: 2025-10-30T08:15:12+09:00\nupdatedAt: 2025-11-03T20:54:44+09:00",
        "position": {
          "start": {
            "line": 1,
            "column": 1,
            "offset": 0
          },
          "end": {
            "line": 6,
            "column": 4,
            "offset": 100
          }
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "仕事で作っているウェブサービスのエラー処理の方針を見直す必要に迫られて、例外設計の考え方をおさらいしている。",
            "position": {
              "start": {
                "line": 9,
                "column": 2,
                "offset": 104
              },
              "end": {
                "line": 9,
                "column": 56,
                "offset": 158
              }
            }
          }
        ],
        "position": {
          "start": {
            "line": 9,
            "column": 2,
            "offset": 104
          },
          "end": {
            "line": 9,
            "column": 56,
            "offset": 158
          }
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "spread": true,
        "children": [
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "知識の出発点としての",
                    "position": {
                      "start": {
                        "line": 11,
                        "column": 3,
                        "offset": 162
                      },
                      "end": {
                        "line": 11,
                        "column": 13,
                        "offset": 172
                      }
                    }
                  },
                  {
                    "type": "link",
                    "title": null,
                    "url": "https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/%E6%8A%80%E8%A1%93%E7%9A%84%E4%BE%8B%E5%A4%96%E3%81%A8%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E4%BE%8B%E5%A4%96%E3%82%92%E6%98%8E%E7%A2%BA%E3%81%AB%E5%8C%BA%E5%88%A5%E3%81%99%E3%82%8B/",
                    "children": [
                      {
                        "type": "text",
                        "value": "「ビジネス例外」と「技術的例外」",
                        "position": {
                          "start": {
                            "line": 11,
                            "column": 14,
                            "offset": 173
                          },
                          "end": {
                            "line": 11,
                            "column": 30,
                            "offset": 189
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 11,
                        "column": 13,
                        "offset": 172
                      },
                      "end": {
                        "line": 11,
                        "column": 301,
                        "offset": 460
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 11,
                    "column": 3,
                    "offset": 162
                  },
                  "end": {
                    "line": 11,
                    "column": 301,
                    "offset": 460
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そもそも類語がたくさんある",
                            "position": {
                              "start": {
                                "line": 12,
                                "column": 4,
                                "offset": 464
                              },
                              "end": {
                                "line": 12,
                                "column": 17,
                                "offset": 477
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 12,
                            "column": 4,
                            "offset": 464
                          },
                          "end": {
                            "line": 12,
                            "column": 17,
                            "offset": 477
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "ビジネス例外・業務例外・アプリケーション例外",
                                    "position": {
                                      "start": {
                                        "line": 13,
                                        "column": 5,
                                        "offset": 482
                                      },
                                      "end": {
                                        "line": 13,
                                        "column": 27,
                                        "offset": 504
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 13,
                                    "column": 5,
                                    "offset": 482
                                  },
                                  "end": {
                                    "line": 13,
                                    "column": 27,
                                    "offset": 504
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 13,
                                "column": 3,
                                "offset": 480
                              },
                              "end": {
                                "line": 13,
                                "column": 27,
                                "offset": 504
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "技術的例外・システム例外",
                                    "position": {
                                      "start": {
                                        "line": 14,
                                        "column": 5,
                                        "offset": 509
                                      },
                                      "end": {
                                        "line": 14,
                                        "column": 17,
                                        "offset": 521
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 14,
                                    "column": 5,
                                    "offset": 509
                                  },
                                  "end": {
                                    "line": 14,
                                    "column": 17,
                                    "offset": 521
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 14,
                                "column": 3,
                                "offset": 507
                              },
                              "end": {
                                "line": 14,
                                "column": 17,
                                "offset": 521
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 13,
                            "column": 3,
                            "offset": 480
                          },
                          "end": {
                            "line": 14,
                            "column": 17,
                            "offset": 521
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 12,
                        "column": 2,
                        "offset": 462
                      },
                      "end": {
                        "line": 14,
                        "column": 17,
                        "offset": 521
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": ".NET には ApplicationException とその他の System Exception という区分がある",
                            "position": {
                              "start": {
                                "line": 15,
                                "column": 4,
                                "offset": 525
                              },
                              "end": {
                                "line": 15,
                                "column": 64,
                                "offset": 585
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 15,
                            "column": 4,
                            "offset": 525
                          },
                          "end": {
                            "line": 15,
                            "column": 64,
                            "offset": 585
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "link",
                                    "title": null,
                                    "url": "https://learn.microsoft.com/ja-jp/dotnet/api/system",
                                    "children": [
                                      {
                                        "type": "text",
                                        "value": "https://learn.microsoft.com/ja-jp/dotnet/api/system",
                                        "position": {
                                          "start": {
                                            "line": 16,
                                            "column": 5,
                                            "offset": 590
                                          },
                                          "end": {
                                            "line": 16,
                                            "column": 56,
                                            "offset": 641
                                          }
                                        }
                                      }
                                    ],
                                    "position": {
                                      "start": {
                                        "line": 16,
                                        "column": 5,
                                        "offset": 590
                                      },
                                      "end": {
                                        "line": 16,
                                        "column": 56,
                                        "offset": 641
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 16,
                                    "column": 5,
                                    "offset": 590
                                  },
                                  "end": {
                                    "line": 16,
                                    "column": 56,
                                    "offset": 641
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 16,
                                "column": 3,
                                "offset": 588
                              },
                              "end": {
                                "line": 16,
                                "column": 56,
                                "offset": 641
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "link",
                                    "title": null,
                                    "url": "https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/",
                                    "children": [
                                      {
                                        "type": "text",
                                        "value": "https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/",
                                        "position": {
                                          "start": {
                                            "line": 17,
                                            "column": 5,
                                            "offset": 646
                                          },
                                          "end": {
                                            "line": 17,
                                            "column": 128,
                                            "offset": 769
                                          }
                                        }
                                      }
                                    ],
                                    "position": {
                                      "start": {
                                        "line": 17,
                                        "column": 5,
                                        "offset": 646
                                      },
                                      "end": {
                                        "line": 17,
                                        "column": 128,
                                        "offset": 769
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 17,
                                    "column": 5,
                                    "offset": 646
                                  },
                                  "end": {
                                    "line": 17,
                                    "column": 128,
                                    "offset": 769
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 17,
                                "column": 3,
                                "offset": 644
                              },
                              "end": {
                                "line": 17,
                                "column": 128,
                                "offset": 769
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 16,
                            "column": 3,
                            "offset": 588
                          },
                          "end": {
                            "line": 17,
                            "column": 128,
                            "offset": 769
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 15,
                        "column": 2,
                        "offset": 523
                      },
                      "end": {
                        "line": 17,
                        "column": 128,
                        "offset": 769
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 12,
                    "column": 2,
                    "offset": 462
                  },
                  "end": {
                    "line": 17,
                    "column": 128,
                    "offset": 769
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 11,
                "column": 1,
                "offset": 160
              },
              "end": {
                "line": 17,
                "column": 128,
                "offset": 769
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "基礎知識としてのビジネス例外と技術例外という区別",
                    "position": {
                      "start": {
                        "line": 19,
                        "column": 3,
                        "offset": 774
                      },
                      "end": {
                        "line": 19,
                        "column": 27,
                        "offset": 798
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 19,
                    "column": 3,
                    "offset": 774
                  },
                  "end": {
                    "line": 19,
                    "column": 27,
                    "offset": 798
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "link",
                            "title": null,
                            "url": "https://qiita.com/jnchito/items/3ef95ea144ed15df3637",
                            "children": [
                              {
                                "type": "text",
                                "value": "https://qiita.com/jnchito/items/3ef95ea144ed15df3637",
                                "position": {
                                  "start": {
                                    "line": 20,
                                    "column": 4,
                                    "offset": 802
                                  },
                                  "end": {
                                    "line": 20,
                                    "column": 56,
                                    "offset": 854
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 20,
                                "column": 4,
                                "offset": 802
                              },
                              "end": {
                                "line": 20,
                                "column": 56,
                                "offset": 854
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 20,
                            "column": 4,
                            "offset": 802
                          },
                          "end": {
                            "line": 20,
                            "column": 56,
                            "offset": 854
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "コントローラと直下のモデルやサービスとの関係という意味では納得感あり",
                                    "position": {
                                      "start": {
                                        "line": 21,
                                        "column": 5,
                                        "offset": 859
                                      },
                                      "end": {
                                        "line": 21,
                                        "column": 39,
                                        "offset": 893
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 21,
                                    "column": 5,
                                    "offset": 859
                                  },
                                  "end": {
                                    "line": 21,
                                    "column": 39,
                                    "offset": 893
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 21,
                                "column": 3,
                                "offset": 857
                              },
                              "end": {
                                "line": 21,
                                "column": 39,
                                "offset": 893
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 21,
                            "column": 3,
                            "offset": 857
                          },
                          "end": {
                            "line": 21,
                            "column": 39,
                            "offset": 893
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 20,
                        "column": 2,
                        "offset": 800
                      },
                      "end": {
                        "line": 21,
                        "column": 39,
                        "offset": 893
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 20,
                    "column": 2,
                    "offset": 800
                  },
                  "end": {
                    "line": 21,
                    "column": 39,
                    "offset": 893
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 19,
                "column": 1,
                "offset": 772
              },
              "end": {
                "line": 21,
                "column": 39,
                "offset": 893
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外とは、その内容に応じて処理や表示を変えたい例外",
                    "position": {
                      "start": {
                        "line": 22,
                        "column": 3,
                        "offset": 896
                      },
                      "end": {
                        "line": 22,
                        "column": 32,
                        "offset": 925
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 22,
                    "column": 3,
                    "offset": 896
                  },
                  "end": {
                    "line": 22,
                    "column": 32,
                    "offset": 925
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そもそもユースケースの範囲内である",
                            "position": {
                              "start": {
                                "line": 23,
                                "column": 4,
                                "offset": 929
                              },
                              "end": {
                                "line": 23,
                                "column": 21,
                                "offset": 946
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 23,
                            "column": 4,
                            "offset": 929
                          },
                          "end": {
                            "line": 23,
                            "column": 21,
                            "offset": 946
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 23,
                        "column": 2,
                        "offset": 927
                      },
                      "end": {
                        "line": 23,
                        "column": 21,
                        "offset": 946
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "フォームのバリデーションエラー",
                            "position": {
                              "start": {
                                "line": 24,
                                "column": 4,
                                "offset": 950
                              },
                              "end": {
                                "line": 24,
                                "column": 19,
                                "offset": 965
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 24,
                            "column": 4,
                            "offset": 950
                          },
                          "end": {
                            "line": 24,
                            "column": 19,
                            "offset": 965
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 24,
                        "column": 2,
                        "offset": 948
                      },
                      "end": {
                        "line": 24,
                        "column": 19,
                        "offset": 965
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "エラー画面に理由を出したい",
                            "position": {
                              "start": {
                                "line": 25,
                                "column": 4,
                                "offset": 969
                              },
                              "end": {
                                "line": 25,
                                "column": 17,
                                "offset": 982
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 25,
                            "column": 4,
                            "offset": 969
                          },
                          "end": {
                            "line": 25,
                            "column": 17,
                            "offset": 982
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 25,
                        "column": 2,
                        "offset": 967
                      },
                      "end": {
                        "line": 25,
                        "column": 17,
                        "offset": 982
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "冒頭資料では「お前が悪い、ちゃんとやり直せ」",
                            "position": {
                              "start": {
                                "line": 26,
                                "column": 4,
                                "offset": 986
                              },
                              "end": {
                                "line": 26,
                                "column": 26,
                                "offset": 1008
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 26,
                            "column": 4,
                            "offset": 986
                          },
                          "end": {
                            "line": 26,
                            "column": 26,
                            "offset": 1008
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 26,
                        "column": 2,
                        "offset": 984
                      },
                      "end": {
                        "line": 26,
                        "column": 26,
                        "offset": 1008
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 23,
                    "column": 2,
                    "offset": 927
                  },
                  "end": {
                    "line": 26,
                    "column": 26,
                    "offset": 1008
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 22,
                "column": 1,
                "offset": 894
              },
              "end": {
                "line": 26,
                "column": 26,
                "offset": 1008
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外は列挙可能である",
                    "position": {
                      "start": {
                        "line": 27,
                        "column": 3,
                        "offset": 1011
                      },
                      "end": {
                        "line": 27,
                        "column": 17,
                        "offset": 1025
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 27,
                    "column": 3,
                    "offset": 1011
                  },
                  "end": {
                    "line": 27,
                    "column": 17,
                    "offset": 1025
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "わたし（モジュール）がこのエラーについてはケアしますという宣言",
                            "position": {
                              "start": {
                                "line": 28,
                                "column": 4,
                                "offset": 1029
                              },
                              "end": {
                                "line": 28,
                                "column": 35,
                                "offset": 1060
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 28,
                            "column": 4,
                            "offset": 1029
                          },
                          "end": {
                            "line": 28,
                            "column": 35,
                            "offset": 1060
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 28,
                        "column": 2,
                        "offset": 1027
                      },
                      "end": {
                        "line": 28,
                        "column": 35,
                        "offset": 1060
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "というか、そもそも列挙できないとモジュールの呼び出し側が処理を分岐できない",
                            "position": {
                              "start": {
                                "line": 29,
                                "column": 4,
                                "offset": 1064
                              },
                              "end": {
                                "line": 29,
                                "column": 41,
                                "offset": 1101
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 29,
                            "column": 4,
                            "offset": 1064
                          },
                          "end": {
                            "line": 29,
                            "column": 41,
                            "offset": 1101
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 29,
                        "column": 2,
                        "offset": 1062
                      },
                      "end": {
                        "line": 29,
                        "column": 41,
                        "offset": 1101
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "方法としては ErrorCode を Enum として定義する、生じうる Error を列挙するのがよさそう",
                            "position": {
                              "start": {
                                "line": 30,
                                "column": 4,
                                "offset": 1105
                              },
                              "end": {
                                "line": 30,
                                "column": 58,
                                "offset": 1159
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 30,
                            "column": 4,
                            "offset": 1105
                          },
                          "end": {
                            "line": 30,
                            "column": 58,
                            "offset": 1159
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 30,
                        "column": 2,
                        "offset": 1103
                      },
                      "end": {
                        "line": 30,
                        "column": 58,
                        "offset": 1159
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 28,
                    "column": 2,
                    "offset": 1027
                  },
                  "end": {
                    "line": 30,
                    "column": 58,
                    "offset": 1159
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 27,
                "column": 1,
                "offset": 1009
              },
              "end": {
                "line": 30,
                "column": 58,
                "offset": 1159
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "技術例外は、業務フローを妨げる「リスク」と言い換えられる",
                    "position": {
                      "start": {
                        "line": 31,
                        "column": 3,
                        "offset": 1162
                      },
                      "end": {
                        "line": 31,
                        "column": 31,
                        "offset": 1190
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 31,
                    "column": 3,
                    "offset": 1162
                  },
                  "end": {
                    "line": 31,
                    "column": 31,
                    "offset": 1190
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "普通は起きないし起きてほしくないけど、起きるかもしれない状況",
                            "position": {
                              "start": {
                                "line": 32,
                                "column": 4,
                                "offset": 1194
                              },
                              "end": {
                                "line": 32,
                                "column": 34,
                                "offset": 1224
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 32,
                            "column": 4,
                            "offset": 1194
                          },
                          "end": {
                            "line": 32,
                            "column": 34,
                            "offset": 1224
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 32,
                        "column": 2,
                        "offset": 1192
                      },
                      "end": {
                        "line": 32,
                        "column": 34,
                        "offset": 1224
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "開発者のデバッグレベルで理由を識別する必要があるが、処理のフローには無関係",
                            "position": {
                              "start": {
                                "line": 33,
                                "column": 4,
                                "offset": 1228
                              },
                              "end": {
                                "line": 33,
                                "column": 41,
                                "offset": 1265
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 33,
                            "column": 4,
                            "offset": 1228
                          },
                          "end": {
                            "line": 33,
                            "column": 41,
                            "offset": 1265
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 33,
                        "column": 2,
                        "offset": 1226
                      },
                      "end": {
                        "line": 33,
                        "column": 41,
                        "offset": 1265
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "無関係というか、起きてしまったらどうしようもない",
                            "position": {
                              "start": {
                                "line": 34,
                                "column": 4,
                                "offset": 1269
                              },
                              "end": {
                                "line": 34,
                                "column": 28,
                                "offset": 1293
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 34,
                            "column": 4,
                            "offset": 1269
                          },
                          "end": {
                            "line": 34,
                            "column": 28,
                            "offset": 1293
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 34,
                        "column": 2,
                        "offset": 1267
                      },
                      "end": {
                        "line": 34,
                        "column": 28,
                        "offset": 1293
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 32,
                    "column": 2,
                    "offset": 1192
                  },
                  "end": {
                    "line": 34,
                    "column": 28,
                    "offset": 1293
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 31,
                "column": 1,
                "offset": 1160
              },
              "end": {
                "line": 34,
                "column": 28,
                "offset": 1293
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外は例外をスローしない（try/catch を使わない）よう実装すると、ビジネス例外とそれ以外の例外の区別をつけやすい",
                    "position": {
                      "start": {
                        "line": 35,
                        "column": 3,
                        "offset": 1296
                      },
                      "end": {
                        "line": 35,
                        "column": 67,
                        "offset": 1360
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 35,
                    "column": 3,
                    "offset": 1296
                  },
                  "end": {
                    "line": 35,
                    "column": 67,
                    "offset": 1360
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "例外がスローされる＝自身の責務ではコントロール不能な予想外の事態の発生、という風にふるまうのはきわめて直感的",
                            "position": {
                              "start": {
                                "line": 36,
                                "column": 4,
                                "offset": 1364
                              },
                              "end": {
                                "line": 36,
                                "column": 58,
                                "offset": 1418
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 36,
                            "column": 4,
                            "offset": 1364
                          },
                          "end": {
                            "line": 36,
                            "column": 58,
                            "offset": 1418
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 36,
                        "column": 2,
                        "offset": 1362
                      },
                      "end": {
                        "line": 36,
                        "column": 58,
                        "offset": 1418
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "真逆のアンチパターンは、ビジネス例外の分岐のために try/catch が必要になるケース",
                            "position": {
                              "start": {
                                "line": 37,
                                "column": 4,
                                "offset": 1422
                              },
                              "end": {
                                "line": 37,
                                "column": 49,
                                "offset": 1467
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 37,
                            "column": 4,
                            "offset": 1422
                          },
                          "end": {
                            "line": 37,
                            "column": 49,
                            "offset": 1467
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "例：zod で入力値のバリデーションに safeParse ではなく parse を使う",
                                    "position": {
                                      "start": {
                                        "line": 38,
                                        "column": 5,
                                        "offset": 1472
                                      },
                                      "end": {
                                        "line": 38,
                                        "column": 49,
                                        "offset": 1516
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 38,
                                    "column": 5,
                                    "offset": 1472
                                  },
                                  "end": {
                                    "line": 38,
                                    "column": 49,
                                    "offset": 1516
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 38,
                                "column": 3,
                                "offset": 1470
                              },
                              "end": {
                                "line": 38,
                                "column": 49,
                                "offset": 1516
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 38,
                            "column": 3,
                            "offset": 1470
                          },
                          "end": {
                            "line": 38,
                            "column": 49,
                            "offset": 1516
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 37,
                        "column": 2,
                        "offset": 1420
                      },
                      "end": {
                        "line": 38,
                        "column": 49,
                        "offset": 1516
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 36,
                    "column": 2,
                    "offset": 1362
                  },
                  "end": {
                    "line": 38,
                    "column": 49,
                    "offset": 1516
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 35,
                "column": 1,
                "offset": 1294
              },
              "end": {
                "line": 38,
                "column": 49,
                "offset": 1516
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "フレームワークのエラーハンドリング機構に一括処理させたい場合は、アプリケーションのレイヤで受け取ったビジネス例外を明示的にスローするのもあり",
                    "position": {
                      "start": {
                        "line": 39,
                        "column": 3,
                        "offset": 1519
                      },
                      "end": {
                        "line": 39,
                        "column": 73,
                        "offset": 1589
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 39,
                    "column": 3,
                    "offset": 1519
                  },
                  "end": {
                    "line": 39,
                    "column": 73,
                    "offset": 1589
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "Remix の throw new Response() とか",
                            "position": {
                              "start": {
                                "line": 40,
                                "column": 4,
                                "offset": 1593
                              },
                              "end": {
                                "line": 40,
                                "column": 35,
                                "offset": 1624
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 40,
                            "column": 4,
                            "offset": 1593
                          },
                          "end": {
                            "line": 40,
                            "column": 35,
                            "offset": 1624
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 40,
                        "column": 2,
                        "offset": 1591
                      },
                      "end": {
                        "line": 40,
                        "column": 35,
                        "offset": 1624
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "典型的には ErrorCode を元に適切なエラーをスローする",
                            "position": {
                              "start": {
                                "line": 41,
                                "column": 4,
                                "offset": 1628
                              },
                              "end": {
                                "line": 41,
                                "column": 35,
                                "offset": 1659
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 41,
                            "column": 4,
                            "offset": 1628
                          },
                          "end": {
                            "line": 41,
                            "column": 35,
                            "offset": 1659
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 41,
                        "column": 2,
                        "offset": 1626
                      },
                      "end": {
                        "line": 41,
                        "column": 35,
                        "offset": 1659
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 40,
                    "column": 2,
                    "offset": 1591
                  },
                  "end": {
                    "line": 41,
                    "column": 35,
                    "offset": 1659
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 39,
                "column": 1,
                "offset": 1517
              },
              "end": {
                "line": 41,
                "column": 35,
                "offset": 1659
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外と技術例外の境界はドメインによって変わりうる",
                    "position": {
                      "start": {
                        "line": 42,
                        "column": 3,
                        "offset": 1662
                      },
                      "end": {
                        "line": 42,
                        "column": 31,
                        "offset": 1690
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 42,
                    "column": 3,
                    "offset": 1662
                  },
                  "end": {
                    "line": 42,
                    "column": 31,
                    "offset": 1690
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ネットワークエラーを敢えて表示した方がよいケースもある",
                            "position": {
                              "start": {
                                "line": 43,
                                "column": 4,
                                "offset": 1694
                              },
                              "end": {
                                "line": 43,
                                "column": 31,
                                "offset": 1721
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 43,
                            "column": 4,
                            "offset": 1694
                          },
                          "end": {
                            "line": 43,
                            "column": 31,
                            "offset": 1721
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 43,
                        "column": 2,
                        "offset": 1692
                      },
                      "end": {
                        "line": 43,
                        "column": 31,
                        "offset": 1721
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "同一アプリケーションのレイヤによっても変わりうる",
                            "position": {
                              "start": {
                                "line": 44,
                                "column": 4,
                                "offset": 1725
                              },
                              "end": {
                                "line": 44,
                                "column": 28,
                                "offset": 1749
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 44,
                            "column": 4,
                            "offset": 1725
                          },
                          "end": {
                            "line": 44,
                            "column": 28,
                            "offset": 1749
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 44,
                        "column": 2,
                        "offset": 1723
                      },
                      "end": {
                        "line": 44,
                        "column": 28,
                        "offset": 1749
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 43,
                    "column": 2,
                    "offset": 1692
                  },
                  "end": {
                    "line": 44,
                    "column": 28,
                    "offset": 1749
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 42,
                "column": 1,
                "offset": 1660
              },
              "end": {
                "line": 44,
                "column": 28,
                "offset": 1749
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "上記区別とは別に、そもそもロジック上起きるはずがない例外（エラー）がある",
                    "position": {
                      "start": {
                        "line": 45,
                        "column": 3,
                        "offset": 1752
                      },
                      "end": {
                        "line": 45,
                        "column": 39,
                        "offset": 1788
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 45,
                    "column": 3,
                    "offset": 1752
                  },
                  "end": {
                    "line": 45,
                    "column": 39,
                    "offset": 1788
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "要は 500 エラー（モニタリングして継続的に発生を最小化すべき）",
                            "position": {
                              "start": {
                                "line": 46,
                                "column": 4,
                                "offset": 1792
                              },
                              "end": {
                                "line": 46,
                                "column": 37,
                                "offset": 1825
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 46,
                            "column": 4,
                            "offset": 1792
                          },
                          "end": {
                            "line": 46,
                            "column": 37,
                            "offset": 1825
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 46,
                        "column": 2,
                        "offset": 1790
                      },
                      "end": {
                        "line": 46,
                        "column": 37,
                        "offset": 1825
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "不適切なタイミングでのドメインロジックの呼び出し",
                            "position": {
                              "start": {
                                "line": 47,
                                "column": 4,
                                "offset": 1829
                              },
                              "end": {
                                "line": 47,
                                "column": 28,
                                "offset": 1853
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 47,
                            "column": 4,
                            "offset": 1829
                          },
                          "end": {
                            "line": 47,
                            "column": 28,
                            "offset": 1853
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "これは DomainError としてスローべき",
                                    "position": {
                                      "start": {
                                        "line": 48,
                                        "column": 5,
                                        "offset": 1858
                                      },
                                      "end": {
                                        "line": 48,
                                        "column": 29,
                                        "offset": 1882
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 48,
                                    "column": 5,
                                    "offset": 1858
                                  },
                                  "end": {
                                    "line": 48,
                                    "column": 29,
                                    "offset": 1882
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 48,
                                "column": 3,
                                "offset": 1856
                              },
                              "end": {
                                "line": 48,
                                "column": 29,
                                "offset": 1882
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "「ビジネス例外」と勘違いしがち",
                                    "position": {
                                      "start": {
                                        "line": 49,
                                        "column": 5,
                                        "offset": 1887
                                      },
                                      "end": {
                                        "line": 49,
                                        "column": 20,
                                        "offset": 1902
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 49,
                                    "column": 5,
                                    "offset": 1887
                                  },
                                  "end": {
                                    "line": 49,
                                    "column": 20,
                                    "offset": 1902
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 49,
                                "column": 3,
                                "offset": 1885
                              },
                              "end": {
                                "line": 49,
                                "column": 20,
                                "offset": 1902
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 48,
                            "column": 3,
                            "offset": 1856
                          },
                          "end": {
                            "line": 49,
                            "column": 20,
                            "offset": 1902
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 47,
                        "column": 2,
                        "offset": 1827
                      },
                      "end": {
                        "line": 49,
                        "column": 20,
                        "offset": 1902
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "制御フローの誤り",
                            "position": {
                              "start": {
                                "line": 50,
                                "column": 4,
                                "offset": 1906
                              },
                              "end": {
                                "line": 50,
                                "column": 12,
                                "offset": 1914
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 50,
                            "column": 4,
                            "offset": 1906
                          },
                          "end": {
                            "line": 50,
                            "column": 12,
                            "offset": 1914
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "正しく実装されていれば Unreachable なコード",
                                    "position": {
                                      "start": {
                                        "line": 51,
                                        "column": 5,
                                        "offset": 1919
                                      },
                                      "end": {
                                        "line": 51,
                                        "column": 33,
                                        "offset": 1947
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 51,
                                    "column": 5,
                                    "offset": 1919
                                  },
                                  "end": {
                                    "line": 51,
                                    "column": 33,
                                    "offset": 1947
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 51,
                                "column": 3,
                                "offset": 1917
                              },
                              "end": {
                                "line": 51,
                                "column": 33,
                                "offset": 1947
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "これも UnreachableError としてスローすべき",
                                    "position": {
                                      "start": {
                                        "line": 52,
                                        "column": 5,
                                        "offset": 1952
                                      },
                                      "end": {
                                        "line": 52,
                                        "column": 35,
                                        "offset": 1982
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 52,
                                    "column": 5,
                                    "offset": 1952
                                  },
                                  "end": {
                                    "line": 52,
                                    "column": 35,
                                    "offset": 1982
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 52,
                                "column": 3,
                                "offset": 1950
                              },
                              "end": {
                                "line": 52,
                                "column": 35,
                                "offset": 1982
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 51,
                            "column": 3,
                            "offset": 1917
                          },
                          "end": {
                            "line": 52,
                            "column": 35,
                            "offset": 1982
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 50,
                        "column": 2,
                        "offset": 1904
                      },
                      "end": {
                        "line": 52,
                        "column": 35,
                        "offset": 1982
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "この領域は適切に型を書けば守れることも多い",
                            "position": {
                              "start": {
                                "line": 53,
                                "column": 4,
                                "offset": 1986
                              },
                              "end": {
                                "line": 53,
                                "column": 25,
                                "offset": 2007
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 53,
                            "column": 4,
                            "offset": 1986
                          },
                          "end": {
                            "line": 53,
                            "column": 25,
                            "offset": 2007
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 53,
                        "column": 2,
                        "offset": 1984
                      },
                      "end": {
                        "line": 53,
                        "column": 25,
                        "offset": 2007
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 46,
                    "column": 2,
                    "offset": 1790
                  },
                  "end": {
                    "line": 53,
                    "column": 25,
                    "offset": 2007
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 45,
                "column": 1,
                "offset": 1750
              },
              "end": {
                "line": 53,
                "column": 25,
                "offset": 2007
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "アプリケーションとライブラリで例外設計の考え方は変わる",
                    "position": {
                      "start": {
                        "line": 54,
                        "column": 3,
                        "offset": 2010
                      },
                      "end": {
                        "line": 54,
                        "column": 30,
                        "offset": 2037
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 54,
                    "column": 3,
                    "offset": 2010
                  },
                  "end": {
                    "line": 54,
                    "column": 30,
                    "offset": 2037
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ライブラリは「どう使われるかわからない」",
                            "position": {
                              "start": {
                                "line": 55,
                                "column": 4,
                                "offset": 2041
                              },
                              "end": {
                                "line": 55,
                                "column": 24,
                                "offset": 2061
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 55,
                            "column": 4,
                            "offset": 2041
                          },
                          "end": {
                            "line": 55,
                            "column": 24,
                            "offset": 2061
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 55,
                        "column": 2,
                        "offset": 2039
                      },
                      "end": {
                        "line": 55,
                        "column": 24,
                        "offset": 2061
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "例外は「わたしはこの解像度までならエラーを識別できます」という宣言",
                            "position": {
                              "start": {
                                "line": 56,
                                "column": 4,
                                "offset": 2065
                              },
                              "end": {
                                "line": 56,
                                "column": 37,
                                "offset": 2098
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 56,
                            "column": 4,
                            "offset": 2065
                          },
                          "end": {
                            "line": 56,
                            "column": 37,
                            "offset": 2098
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 56,
                        "column": 2,
                        "offset": 2063
                      },
                      "end": {
                        "line": 56,
                        "column": 37,
                        "offset": 2098
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "Result でも throw でもよいが、何かしら呼び出し側で code や reason を分岐できる必要がある",
                            "position": {
                              "start": {
                                "line": 57,
                                "column": 4,
                                "offset": 2102
                              },
                              "end": {
                                "line": 57,
                                "column": 62,
                                "offset": 2160
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 57,
                            "column": 4,
                            "offset": 2102
                          },
                          "end": {
                            "line": 57,
                            "column": 62,
                            "offset": 2160
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 57,
                        "column": 2,
                        "offset": 2100
                      },
                      "end": {
                        "line": 57,
                        "column": 62,
                        "offset": 2160
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "モジュールは「アプリケーションの全体の責務分担の 1 つ」",
                            "position": {
                              "start": {
                                "line": 58,
                                "column": 4,
                                "offset": 2164
                              },
                              "end": {
                                "line": 58,
                                "column": 33,
                                "offset": 2193
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 58,
                            "column": 4,
                            "offset": 2164
                          },
                          "end": {
                            "line": 58,
                            "column": 33,
                            "offset": 2193
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 58,
                        "column": 2,
                        "offset": 2162
                      },
                      "end": {
                        "line": 58,
                        "column": 33,
                        "offset": 2193
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そのモジュールがどこまでの解像度でエラーを識別するかは、むしろ呼び出し側の要請に拠る",
                            "position": {
                              "start": {
                                "line": 59,
                                "column": 4,
                                "offset": 2197
                              },
                              "end": {
                                "line": 59,
                                "column": 46,
                                "offset": 2239
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 59,
                            "column": 4,
                            "offset": 2197
                          },
                          "end": {
                            "line": 59,
                            "column": 46,
                            "offset": 2239
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 59,
                        "column": 2,
                        "offset": 2195
                      },
                      "end": {
                        "line": 59,
                        "column": 46,
                        "offset": 2239
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 55,
                    "column": 2,
                    "offset": 2039
                  },
                  "end": {
                    "line": 59,
                    "column": 46,
                    "offset": 2239
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 54,
                "column": 1,
                "offset": 2008
              },
              "end": {
                "line": 59,
                "column": 46,
                "offset": 2239
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "例外のスローという仕組みが、そもそもある種のホワイトリスト的な考え方",
                    "position": {
                      "start": {
                        "line": 60,
                        "column": 3,
                        "offset": 2242
                      },
                      "end": {
                        "line": 60,
                        "column": 37,
                        "offset": 2276
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 60,
                    "column": 3,
                    "offset": 2242
                  },
                  "end": {
                    "line": 60,
                    "column": 37,
                    "offset": 2276
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "自分が責任を持てる領域のみスローをやめて適切に処理するところから始める",
                            "position": {
                              "start": {
                                "line": 61,
                                "column": 4,
                                "offset": 2280
                              },
                              "end": {
                                "line": 61,
                                "column": 39,
                                "offset": 2315
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 61,
                            "column": 4,
                            "offset": 2280
                          },
                          "end": {
                            "line": 61,
                            "column": 39,
                            "offset": 2315
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 61,
                        "column": 2,
                        "offset": 2278
                      },
                      "end": {
                        "line": 61,
                        "column": 39,
                        "offset": 2315
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "それ以外はクラッシュさせる（クラッシュ寸前まで貫通させる）のがむしろ見通しが良い",
                            "position": {
                              "start": {
                                "line": 62,
                                "column": 4,
                                "offset": 2319
                              },
                              "end": {
                                "line": 62,
                                "column": 44,
                                "offset": 2359
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 62,
                            "column": 4,
                            "offset": 2319
                          },
                          "end": {
                            "line": 62,
                            "column": 44,
                            "offset": 2359
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 62,
                        "column": 2,
                        "offset": 2317
                      },
                      "end": {
                        "line": 62,
                        "column": 44,
                        "offset": 2359
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "必要に応じてその領域を拡大していけばよい",
                            "position": {
                              "start": {
                                "line": 63,
                                "column": 4,
                                "offset": 2363
                              },
                              "end": {
                                "line": 63,
                                "column": 24,
                                "offset": 2383
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 63,
                            "column": 4,
                            "offset": 2363
                          },
                          "end": {
                            "line": 63,
                            "column": 24,
                            "offset": 2383
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 63,
                        "column": 2,
                        "offset": 2361
                      },
                      "end": {
                        "line": 63,
                        "column": 24,
                        "offset": 2383
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "この原理を理解しておけば、とりあえず全体を try/catch で囲んでレイヤリングをする、というアンチパターンを防げる",
                            "position": {
                              "start": {
                                "line": 64,
                                "column": 4,
                                "offset": 2387
                              },
                              "end": {
                                "line": 64,
                                "column": 64,
                                "offset": 2447
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 64,
                            "column": 4,
                            "offset": 2387
                          },
                          "end": {
                            "line": 64,
                            "column": 64,
                            "offset": 2447
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 64,
                        "column": 2,
                        "offset": 2385
                      },
                      "end": {
                        "line": 64,
                        "column": 64,
                        "offset": 2447
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 61,
                    "column": 2,
                    "offset": 2278
                  },
                  "end": {
                    "line": 64,
                    "column": 64,
                    "offset": 2447
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 60,
                "column": 1,
                "offset": 2240
              },
              "end": {
                "line": 64,
                "column": 64,
                "offset": 2447
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "一番上位のレイヤでは全体を try/catch で囲んだ方がよさそうだが、これもケースバイケース",
                    "position": {
                      "start": {
                        "line": 65,
                        "column": 3,
                        "offset": 2450
                      },
                      "end": {
                        "line": 65,
                        "column": 51,
                        "offset": 2498
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 65,
                    "column": 3,
                    "offset": 2450
                  },
                  "end": {
                    "line": 65,
                    "column": 51,
                    "offset": 2498
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "サーバなど長時間動くプロセスがクラッシュするのはまずい",
                            "position": {
                              "start": {
                                "line": 66,
                                "column": 4,
                                "offset": 2502
                              },
                              "end": {
                                "line": 66,
                                "column": 31,
                                "offset": 2529
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 66,
                            "column": 4,
                            "offset": 2502
                          },
                          "end": {
                            "line": 66,
                            "column": 31,
                            "offset": 2529
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "フレームワークを使っているならたいてい拾ってくれる",
                                    "position": {
                                      "start": {
                                        "line": 67,
                                        "column": 5,
                                        "offset": 2534
                                      },
                                      "end": {
                                        "line": 67,
                                        "column": 30,
                                        "offset": 2559
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 67,
                                    "column": 5,
                                    "offset": 2534
                                  },
                                  "end": {
                                    "line": 67,
                                    "column": 30,
                                    "offset": 2559
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 67,
                                "column": 3,
                                "offset": 2532
                              },
                              "end": {
                                "line": 67,
                                "column": 30,
                                "offset": 2559
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 67,
                            "column": 3,
                            "offset": 2532
                          },
                          "end": {
                            "line": 67,
                            "column": 30,
                            "offset": 2559
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 66,
                        "column": 2,
                        "offset": 2500
                      },
                      "end": {
                        "line": 67,
                        "column": 30,
                        "offset": 2559
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "サーバレス関数の場合はそのままクラッシュさせてもよいかもしれない",
                            "position": {
                              "start": {
                                "line": 68,
                                "column": 4,
                                "offset": 2563
                              },
                              "end": {
                                "line": 68,
                                "column": 36,
                                "offset": 2595
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 68,
                            "column": 4,
                            "offset": 2563
                          },
                          "end": {
                            "line": 68,
                            "column": 36,
                            "offset": 2595
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "ただしプラットフォーム側のリトライ機構に乗せたくない場合は捕捉するのもあり",
                                    "position": {
                                      "start": {
                                        "line": 69,
                                        "column": 5,
                                        "offset": 2600
                                      },
                                      "end": {
                                        "line": 69,
                                        "column": 42,
                                        "offset": 2637
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 69,
                                    "column": 5,
                                    "offset": 2600
                                  },
                                  "end": {
                                    "line": 69,
                                    "column": 42,
                                    "offset": 2637
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 69,
                                "column": 3,
                                "offset": 2598
                              },
                              "end": {
                                "line": 69,
                                "column": 42,
                                "offset": 2637
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 69,
                            "column": 3,
                            "offset": 2598
                          },
                          "end": {
                            "line": 69,
                            "column": 42,
                            "offset": 2637
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 68,
                        "column": 2,
                        "offset": 2561
                      },
                      "end": {
                        "line": 69,
                        "column": 42,
                        "offset": 2637
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "バッチ処理の場合は必ず捕捉してログを取ったりしたい",
                            "position": {
                              "start": {
                                "line": 70,
                                "column": 4,
                                "offset": 2641
                              },
                              "end": {
                                "line": 70,
                                "column": 29,
                                "offset": 2666
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 70,
                            "column": 4,
                            "offset": 2641
                          },
                          "end": {
                            "line": 70,
                            "column": 29,
                            "offset": 2666
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 70,
                        "column": 2,
                        "offset": 2639
                      },
                      "end": {
                        "line": 70,
                        "column": 29,
                        "offset": 2666
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 66,
                    "column": 2,
                    "offset": 2500
                  },
                  "end": {
                    "line": 70,
                    "column": 29,
                    "offset": 2666
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 65,
                "column": 1,
                "offset": 2448
              },
              "end": {
                "line": 70,
                "column": 29,
                "offset": 2666
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "そもそも「ビジネス例外」と「技術例外」という区分自体が、アプリケーションの例外設計のための考え方であるとも言える",
                    "position": {
                      "start": {
                        "line": 71,
                        "column": 3,
                        "offset": 2669
                      },
                      "end": {
                        "line": 71,
                        "column": 59,
                        "offset": 2725
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 71,
                    "column": 3,
                    "offset": 2669
                  },
                  "end": {
                    "line": 71,
                    "column": 59,
                    "offset": 2725
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ライブラリはアプリケーションではないので、ビジネス例外を Result にせず、全部例外としてスローしておく方がよいケースもある",
                            "position": {
                              "start": {
                                "line": 72,
                                "column": 4,
                                "offset": 2729
                              },
                              "end": {
                                "line": 72,
                                "column": 68,
                                "offset": 2793
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 72,
                            "column": 4,
                            "offset": 2729
                          },
                          "end": {
                            "line": 72,
                            "column": 68,
                            "offset": 2793
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 72,
                        "column": 2,
                        "offset": 2727
                      },
                      "end": {
                        "line": 72,
                        "column": 68,
                        "offset": 2793
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 72,
                    "column": 2,
                    "offset": 2727
                  },
                  "end": {
                    "line": 72,
                    "column": 68,
                    "offset": 2793
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 71,
                "column": 1,
                "offset": 2667
              },
              "end": {
                "line": 72,
                "column": 68,
                "offset": 2793
              }
            }
          }
        ],
        "position": {
          "start": {
            "line": 11,
            "column": 1,
            "offset": 160
          },
          "end": {
            "line": 72,
            "column": 68,
            "offset": 2793
          }
        }
      }
    ],
    "position": {
      "start": {
        "line": 1,
        "column": 1,
        "offset": 0
      },
      "end": {
        "line": 73,
        "column": 1,
        "offset": 2794
      }
    }
  }
}