{
  "title": "例外処理の考え方",
  "source": "---\ntags:\n  - scribble\n---\n\n\n 仕事で作っているウェブサービスのエラー処理の方針を見直す必要に迫られて、例外設計の考え方をおさらいしている。\n\n- 知識の出発点としての[「ビジネス例外」と「技術的例外」](https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/%E6%8A%80%E8%A1%93%E7%9A%84%E4%BE%8B%E5%A4%96%E3%81%A8%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E4%BE%8B%E5%A4%96%E3%82%92%E6%98%8E%E7%A2%BA%E3%81%AB%E5%8C%BA%E5%88%A5%E3%81%99%E3%82%8B/)\n\t- そもそも類語がたくさんある\n\t\t- ビジネス例外・業務例外・アプリケーション例外\n\t\t- 技術的例外・システム例外\n\t- .NET には ApplicationException とその他の System Exception という区分がある\n\t\t- https://learn.microsoft.com/ja-jp/dotnet/api/system\n\t\t- https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/\n \n- 基礎知識としてのビジネス例外と技術例外という区別\n\t- https://qiita.com/jnchito/items/3ef95ea144ed15df3637\n\t\t- コントローラと直下のモデルやサービスとの関係という意味では納得感あり\n- ビジネス例外とは、その内容に応じて処理や表示を変えたい例外\n\t- そもそもユースケースの範囲内である\n\t- フォームのバリデーションエラー\n\t- エラー画面に理由を出したい\n\t- 冒頭資料では「お前が悪い、ちゃんとやり直せ」\n- ビジネス例外は列挙可能である\n\t- わたし（モジュール）がこのエラーについてはケアしますという宣言\n\t- というか、そもそも列挙できないとモジュールの呼び出し側が処理を分岐できない\n\t- 方法としては ErrorCode を Enum として定義する、生じうる Error を列挙するのがよさそう\n- 技術例外は、業務フローを妨げる「リスク」と言い換えられる\n\t- 普通は起きないし起きてほしくないけど、起きるかもしれない状況\n\t- 開発者のデバッグレベルで理由を識別する必要があるが、処理のフローには無関係\n\t- 無関係というか、起きてしまったらどうしようもない\n- ビジネス例外は例外をスローしない（try/catch を使わない）よう実装すると、ビジネス例外とそれ以外の例外の区別をつけやすい\n\t- 例外がスローされる＝自身の責務ではコントロール不能な予想外の事態の発生、という風にふるまうのはきわめて直感的\n\t- 真逆のアンチパターンは、ビジネス例外の分岐のために try/catch が必要になるケース\n\t\t- 例：zod で入力値のバリデーションに safeParse ではなく parse を使う\n- フレームワークのエラーハンドリング機構に一括処理させたい場合は、アプリケーションのレイヤで受け取ったビジネス例外を明示的にスローするのもあり\n\t- Remix の throw new Response() とか\n\t- 典型的には ErrorCode を元に適切なエラーをスローする\n- ビジネス例外と技術例外の境界はドメインによって変わりうる\n\t- ネットワークエラーを敢えて表示した方がよいケースもある\n\t- 同一アプリケーションのレイヤによっても変わりうる\n- 上記区別とは別に、そもそもロジック上起きるはずがない例外（エラー）がある\n\t- 要は 500 エラー（モニタリングして継続的に発生を最小化すべき）\n\t- 不適切なタイミングでのドメインロジックの呼び出し\n\t\t- これは DomainError としてスローべき\n\t\t- 「ビジネス例外」と勘違いしがち\n\t- 制御フローの誤り\n\t\t- 正しく実装されていれば Unreachable なコード\n\t\t- これも UnreachableError としてスローすべき\n\t- この領域は適切に型を書けば守れることも多い\n- アプリケーションとライブラリで例外設計の考え方は変わる\n\t- ライブラリは「どう使われるかわからない」\n\t- 例外は「わたしはこの解像度までならエラーを識別できます」という宣言\n\t- Result でも throw でもよいが、何かしら呼び出し側で code や reason を分岐できる必要がある\n\t- モジュールは「アプリケーションの全体の責務分担の 1 つ」\n\t- そのモジュールがどこまでの解像度でエラーを識別するかは、むしろ呼び出し側の要請に拠る\n- 例外のスローという仕組みが、そもそもある種のホワイトリスト的な考え方\n\t- 自分が責任を持てる領域のみスローをやめて適切に処理するところから始める\n\t- それ以外はクラッシュさせる（クラッシュ寸前まで貫通させる）のがむしろ見通しが良い\n\t- 必要に応じてその領域を拡大していけばよい\n\t- この原理を理解しておけば、とりあえず全体を try/catch で囲んでレイヤリングをする、というアンチパターンを防げる\n- 一番上位のレイヤでは全体を try/catch で囲んだ方がよさそうだが、これもケースバイケース\n\t- サーバなど長時間動くプロセスがクラッシュするのはまずい\n\t\t- フレームワークを使っているならたいてい拾ってくれる\n\t- サーバレス関数の場合はそのままクラッシュさせてもよいかもしれない\n\t\t- ただしプラットフォーム側のリトライ機構に乗せたくない場合は捕捉するのもあり\n\t- バッチ処理の場合は必ず捕捉してログを取ったりしたい\n- そもそも「ビジネス例外」と「技術例外」という区分自体が、アプリケーションの例外設計のための考え方であるとも言える\n\t- ライブラリはアプリケーションではないので、ビジネス例外を Result にせず、全部例外としてスローしておく方がよいケースもある\n",
  "createdAt": "2025-10-29T23:15:12.599Z",
  "updatedAt": "2025-11-03T05:56:56.907Z",
  "tags": [
    "scribble"
  ],
  "content": {
    "type": "root",
    "children": [
      {
        "type": "yaml",
        "value": "tags:\n  - scribble",
        "position": {
          "start": {
            "line": 1,
            "column": 1,
            "offset": 0
          },
          "end": {
            "line": 4,
            "column": 4,
            "offset": 26
          }
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "仕事で作っているウェブサービスのエラー処理の方針を見直す必要に迫られて、例外設計の考え方をおさらいしている。",
            "position": {
              "start": {
                "line": 7,
                "column": 2,
                "offset": 30
              },
              "end": {
                "line": 7,
                "column": 56,
                "offset": 84
              }
            }
          }
        ],
        "position": {
          "start": {
            "line": 7,
            "column": 2,
            "offset": 30
          },
          "end": {
            "line": 7,
            "column": 56,
            "offset": 84
          }
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "spread": true,
        "children": [
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "知識の出発点としての",
                    "position": {
                      "start": {
                        "line": 9,
                        "column": 3,
                        "offset": 88
                      },
                      "end": {
                        "line": 9,
                        "column": 13,
                        "offset": 98
                      }
                    }
                  },
                  {
                    "type": "link",
                    "title": null,
                    "url": "https://xn--97-273ae6a4irb6e2hsoiozc2g4b8082p.com/%E3%82%A8%E3%83%83%E3%82%BB%E3%82%A4/%E6%8A%80%E8%A1%93%E7%9A%84%E4%BE%8B%E5%A4%96%E3%81%A8%E3%83%93%E3%82%B8%E3%83%8D%E3%82%B9%E4%BE%8B%E5%A4%96%E3%82%92%E6%98%8E%E7%A2%BA%E3%81%AB%E5%8C%BA%E5%88%A5%E3%81%99%E3%82%8B/",
                    "children": [
                      {
                        "type": "text",
                        "value": "「ビジネス例外」と「技術的例外」",
                        "position": {
                          "start": {
                            "line": 9,
                            "column": 14,
                            "offset": 99
                          },
                          "end": {
                            "line": 9,
                            "column": 30,
                            "offset": 115
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 9,
                        "column": 13,
                        "offset": 98
                      },
                      "end": {
                        "line": 9,
                        "column": 301,
                        "offset": 386
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 9,
                    "column": 3,
                    "offset": 88
                  },
                  "end": {
                    "line": 9,
                    "column": 301,
                    "offset": 386
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そもそも類語がたくさんある",
                            "position": {
                              "start": {
                                "line": 10,
                                "column": 4,
                                "offset": 390
                              },
                              "end": {
                                "line": 10,
                                "column": 17,
                                "offset": 403
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 10,
                            "column": 4,
                            "offset": 390
                          },
                          "end": {
                            "line": 10,
                            "column": 17,
                            "offset": 403
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "ビジネス例外・業務例外・アプリケーション例外",
                                    "position": {
                                      "start": {
                                        "line": 11,
                                        "column": 5,
                                        "offset": 408
                                      },
                                      "end": {
                                        "line": 11,
                                        "column": 27,
                                        "offset": 430
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 11,
                                    "column": 5,
                                    "offset": 408
                                  },
                                  "end": {
                                    "line": 11,
                                    "column": 27,
                                    "offset": 430
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 11,
                                "column": 3,
                                "offset": 406
                              },
                              "end": {
                                "line": 11,
                                "column": 27,
                                "offset": 430
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "技術的例外・システム例外",
                                    "position": {
                                      "start": {
                                        "line": 12,
                                        "column": 5,
                                        "offset": 435
                                      },
                                      "end": {
                                        "line": 12,
                                        "column": 17,
                                        "offset": 447
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 12,
                                    "column": 5,
                                    "offset": 435
                                  },
                                  "end": {
                                    "line": 12,
                                    "column": 17,
                                    "offset": 447
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 12,
                                "column": 3,
                                "offset": 433
                              },
                              "end": {
                                "line": 12,
                                "column": 17,
                                "offset": 447
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 11,
                            "column": 3,
                            "offset": 406
                          },
                          "end": {
                            "line": 12,
                            "column": 17,
                            "offset": 447
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 10,
                        "column": 2,
                        "offset": 388
                      },
                      "end": {
                        "line": 12,
                        "column": 17,
                        "offset": 447
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": ".NET には ApplicationException とその他の System Exception という区分がある",
                            "position": {
                              "start": {
                                "line": 13,
                                "column": 4,
                                "offset": 451
                              },
                              "end": {
                                "line": 13,
                                "column": 64,
                                "offset": 511
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 13,
                            "column": 4,
                            "offset": 451
                          },
                          "end": {
                            "line": 13,
                            "column": 64,
                            "offset": 511
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "link",
                                    "title": null,
                                    "url": "https://learn.microsoft.com/ja-jp/dotnet/api/system",
                                    "children": [
                                      {
                                        "type": "text",
                                        "value": "https://learn.microsoft.com/ja-jp/dotnet/api/system",
                                        "position": {
                                          "start": {
                                            "line": 14,
                                            "column": 5,
                                            "offset": 516
                                          },
                                          "end": {
                                            "line": 14,
                                            "column": 56,
                                            "offset": 567
                                          }
                                        }
                                      }
                                    ],
                                    "position": {
                                      "start": {
                                        "line": 14,
                                        "column": 5,
                                        "offset": 516
                                      },
                                      "end": {
                                        "line": 14,
                                        "column": 56,
                                        "offset": 567
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 14,
                                    "column": 5,
                                    "offset": 516
                                  },
                                  "end": {
                                    "line": 14,
                                    "column": 56,
                                    "offset": 567
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 14,
                                "column": 3,
                                "offset": 514
                              },
                              "end": {
                                "line": 14,
                                "column": 56,
                                "offset": 567
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "link",
                                    "title": null,
                                    "url": "https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/",
                                    "children": [
                                      {
                                        "type": "text",
                                        "value": "https://www.geeksforgeeks.org/c-sharp/difference-between-system-level-exception-and-application-level-exception-in-c-sharp/",
                                        "position": {
                                          "start": {
                                            "line": 15,
                                            "column": 5,
                                            "offset": 572
                                          },
                                          "end": {
                                            "line": 15,
                                            "column": 128,
                                            "offset": 695
                                          }
                                        }
                                      }
                                    ],
                                    "position": {
                                      "start": {
                                        "line": 15,
                                        "column": 5,
                                        "offset": 572
                                      },
                                      "end": {
                                        "line": 15,
                                        "column": 128,
                                        "offset": 695
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 15,
                                    "column": 5,
                                    "offset": 572
                                  },
                                  "end": {
                                    "line": 15,
                                    "column": 128,
                                    "offset": 695
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 15,
                                "column": 3,
                                "offset": 570
                              },
                              "end": {
                                "line": 15,
                                "column": 128,
                                "offset": 695
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 14,
                            "column": 3,
                            "offset": 514
                          },
                          "end": {
                            "line": 15,
                            "column": 128,
                            "offset": 695
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 13,
                        "column": 2,
                        "offset": 449
                      },
                      "end": {
                        "line": 15,
                        "column": 128,
                        "offset": 695
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 10,
                    "column": 2,
                    "offset": 388
                  },
                  "end": {
                    "line": 15,
                    "column": 128,
                    "offset": 695
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 9,
                "column": 1,
                "offset": 86
              },
              "end": {
                "line": 15,
                "column": 128,
                "offset": 695
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "基礎知識としてのビジネス例外と技術例外という区別",
                    "position": {
                      "start": {
                        "line": 17,
                        "column": 3,
                        "offset": 700
                      },
                      "end": {
                        "line": 17,
                        "column": 27,
                        "offset": 724
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 17,
                    "column": 3,
                    "offset": 700
                  },
                  "end": {
                    "line": 17,
                    "column": 27,
                    "offset": 724
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "link",
                            "title": null,
                            "url": "https://qiita.com/jnchito/items/3ef95ea144ed15df3637",
                            "children": [
                              {
                                "type": "text",
                                "value": "https://qiita.com/jnchito/items/3ef95ea144ed15df3637",
                                "position": {
                                  "start": {
                                    "line": 18,
                                    "column": 4,
                                    "offset": 728
                                  },
                                  "end": {
                                    "line": 18,
                                    "column": 56,
                                    "offset": 780
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 18,
                                "column": 4,
                                "offset": 728
                              },
                              "end": {
                                "line": 18,
                                "column": 56,
                                "offset": 780
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 18,
                            "column": 4,
                            "offset": 728
                          },
                          "end": {
                            "line": 18,
                            "column": 56,
                            "offset": 780
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "コントローラと直下のモデルやサービスとの関係という意味では納得感あり",
                                    "position": {
                                      "start": {
                                        "line": 19,
                                        "column": 5,
                                        "offset": 785
                                      },
                                      "end": {
                                        "line": 19,
                                        "column": 39,
                                        "offset": 819
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 19,
                                    "column": 5,
                                    "offset": 785
                                  },
                                  "end": {
                                    "line": 19,
                                    "column": 39,
                                    "offset": 819
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 19,
                                "column": 3,
                                "offset": 783
                              },
                              "end": {
                                "line": 19,
                                "column": 39,
                                "offset": 819
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 19,
                            "column": 3,
                            "offset": 783
                          },
                          "end": {
                            "line": 19,
                            "column": 39,
                            "offset": 819
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 18,
                        "column": 2,
                        "offset": 726
                      },
                      "end": {
                        "line": 19,
                        "column": 39,
                        "offset": 819
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 18,
                    "column": 2,
                    "offset": 726
                  },
                  "end": {
                    "line": 19,
                    "column": 39,
                    "offset": 819
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 17,
                "column": 1,
                "offset": 698
              },
              "end": {
                "line": 19,
                "column": 39,
                "offset": 819
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外とは、その内容に応じて処理や表示を変えたい例外",
                    "position": {
                      "start": {
                        "line": 20,
                        "column": 3,
                        "offset": 822
                      },
                      "end": {
                        "line": 20,
                        "column": 32,
                        "offset": 851
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 20,
                    "column": 3,
                    "offset": 822
                  },
                  "end": {
                    "line": 20,
                    "column": 32,
                    "offset": 851
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そもそもユースケースの範囲内である",
                            "position": {
                              "start": {
                                "line": 21,
                                "column": 4,
                                "offset": 855
                              },
                              "end": {
                                "line": 21,
                                "column": 21,
                                "offset": 872
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 21,
                            "column": 4,
                            "offset": 855
                          },
                          "end": {
                            "line": 21,
                            "column": 21,
                            "offset": 872
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 21,
                        "column": 2,
                        "offset": 853
                      },
                      "end": {
                        "line": 21,
                        "column": 21,
                        "offset": 872
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "フォームのバリデーションエラー",
                            "position": {
                              "start": {
                                "line": 22,
                                "column": 4,
                                "offset": 876
                              },
                              "end": {
                                "line": 22,
                                "column": 19,
                                "offset": 891
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 22,
                            "column": 4,
                            "offset": 876
                          },
                          "end": {
                            "line": 22,
                            "column": 19,
                            "offset": 891
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 22,
                        "column": 2,
                        "offset": 874
                      },
                      "end": {
                        "line": 22,
                        "column": 19,
                        "offset": 891
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "エラー画面に理由を出したい",
                            "position": {
                              "start": {
                                "line": 23,
                                "column": 4,
                                "offset": 895
                              },
                              "end": {
                                "line": 23,
                                "column": 17,
                                "offset": 908
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 23,
                            "column": 4,
                            "offset": 895
                          },
                          "end": {
                            "line": 23,
                            "column": 17,
                            "offset": 908
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 23,
                        "column": 2,
                        "offset": 893
                      },
                      "end": {
                        "line": 23,
                        "column": 17,
                        "offset": 908
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "冒頭資料では「お前が悪い、ちゃんとやり直せ」",
                            "position": {
                              "start": {
                                "line": 24,
                                "column": 4,
                                "offset": 912
                              },
                              "end": {
                                "line": 24,
                                "column": 26,
                                "offset": 934
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 24,
                            "column": 4,
                            "offset": 912
                          },
                          "end": {
                            "line": 24,
                            "column": 26,
                            "offset": 934
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 24,
                        "column": 2,
                        "offset": 910
                      },
                      "end": {
                        "line": 24,
                        "column": 26,
                        "offset": 934
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 21,
                    "column": 2,
                    "offset": 853
                  },
                  "end": {
                    "line": 24,
                    "column": 26,
                    "offset": 934
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 20,
                "column": 1,
                "offset": 820
              },
              "end": {
                "line": 24,
                "column": 26,
                "offset": 934
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外は列挙可能である",
                    "position": {
                      "start": {
                        "line": 25,
                        "column": 3,
                        "offset": 937
                      },
                      "end": {
                        "line": 25,
                        "column": 17,
                        "offset": 951
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 25,
                    "column": 3,
                    "offset": 937
                  },
                  "end": {
                    "line": 25,
                    "column": 17,
                    "offset": 951
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "わたし（モジュール）がこのエラーについてはケアしますという宣言",
                            "position": {
                              "start": {
                                "line": 26,
                                "column": 4,
                                "offset": 955
                              },
                              "end": {
                                "line": 26,
                                "column": 35,
                                "offset": 986
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 26,
                            "column": 4,
                            "offset": 955
                          },
                          "end": {
                            "line": 26,
                            "column": 35,
                            "offset": 986
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 26,
                        "column": 2,
                        "offset": 953
                      },
                      "end": {
                        "line": 26,
                        "column": 35,
                        "offset": 986
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "というか、そもそも列挙できないとモジュールの呼び出し側が処理を分岐できない",
                            "position": {
                              "start": {
                                "line": 27,
                                "column": 4,
                                "offset": 990
                              },
                              "end": {
                                "line": 27,
                                "column": 41,
                                "offset": 1027
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 27,
                            "column": 4,
                            "offset": 990
                          },
                          "end": {
                            "line": 27,
                            "column": 41,
                            "offset": 1027
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 27,
                        "column": 2,
                        "offset": 988
                      },
                      "end": {
                        "line": 27,
                        "column": 41,
                        "offset": 1027
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "方法としては ErrorCode を Enum として定義する、生じうる Error を列挙するのがよさそう",
                            "position": {
                              "start": {
                                "line": 28,
                                "column": 4,
                                "offset": 1031
                              },
                              "end": {
                                "line": 28,
                                "column": 58,
                                "offset": 1085
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 28,
                            "column": 4,
                            "offset": 1031
                          },
                          "end": {
                            "line": 28,
                            "column": 58,
                            "offset": 1085
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 28,
                        "column": 2,
                        "offset": 1029
                      },
                      "end": {
                        "line": 28,
                        "column": 58,
                        "offset": 1085
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 26,
                    "column": 2,
                    "offset": 953
                  },
                  "end": {
                    "line": 28,
                    "column": 58,
                    "offset": 1085
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 25,
                "column": 1,
                "offset": 935
              },
              "end": {
                "line": 28,
                "column": 58,
                "offset": 1085
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "技術例外は、業務フローを妨げる「リスク」と言い換えられる",
                    "position": {
                      "start": {
                        "line": 29,
                        "column": 3,
                        "offset": 1088
                      },
                      "end": {
                        "line": 29,
                        "column": 31,
                        "offset": 1116
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 29,
                    "column": 3,
                    "offset": 1088
                  },
                  "end": {
                    "line": 29,
                    "column": 31,
                    "offset": 1116
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "普通は起きないし起きてほしくないけど、起きるかもしれない状況",
                            "position": {
                              "start": {
                                "line": 30,
                                "column": 4,
                                "offset": 1120
                              },
                              "end": {
                                "line": 30,
                                "column": 34,
                                "offset": 1150
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 30,
                            "column": 4,
                            "offset": 1120
                          },
                          "end": {
                            "line": 30,
                            "column": 34,
                            "offset": 1150
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 30,
                        "column": 2,
                        "offset": 1118
                      },
                      "end": {
                        "line": 30,
                        "column": 34,
                        "offset": 1150
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "開発者のデバッグレベルで理由を識別する必要があるが、処理のフローには無関係",
                            "position": {
                              "start": {
                                "line": 31,
                                "column": 4,
                                "offset": 1154
                              },
                              "end": {
                                "line": 31,
                                "column": 41,
                                "offset": 1191
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 31,
                            "column": 4,
                            "offset": 1154
                          },
                          "end": {
                            "line": 31,
                            "column": 41,
                            "offset": 1191
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 31,
                        "column": 2,
                        "offset": 1152
                      },
                      "end": {
                        "line": 31,
                        "column": 41,
                        "offset": 1191
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "無関係というか、起きてしまったらどうしようもない",
                            "position": {
                              "start": {
                                "line": 32,
                                "column": 4,
                                "offset": 1195
                              },
                              "end": {
                                "line": 32,
                                "column": 28,
                                "offset": 1219
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 32,
                            "column": 4,
                            "offset": 1195
                          },
                          "end": {
                            "line": 32,
                            "column": 28,
                            "offset": 1219
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 32,
                        "column": 2,
                        "offset": 1193
                      },
                      "end": {
                        "line": 32,
                        "column": 28,
                        "offset": 1219
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 30,
                    "column": 2,
                    "offset": 1118
                  },
                  "end": {
                    "line": 32,
                    "column": 28,
                    "offset": 1219
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 29,
                "column": 1,
                "offset": 1086
              },
              "end": {
                "line": 32,
                "column": 28,
                "offset": 1219
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外は例外をスローしない（try/catch を使わない）よう実装すると、ビジネス例外とそれ以外の例外の区別をつけやすい",
                    "position": {
                      "start": {
                        "line": 33,
                        "column": 3,
                        "offset": 1222
                      },
                      "end": {
                        "line": 33,
                        "column": 67,
                        "offset": 1286
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 33,
                    "column": 3,
                    "offset": 1222
                  },
                  "end": {
                    "line": 33,
                    "column": 67,
                    "offset": 1286
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "例外がスローされる＝自身の責務ではコントロール不能な予想外の事態の発生、という風にふるまうのはきわめて直感的",
                            "position": {
                              "start": {
                                "line": 34,
                                "column": 4,
                                "offset": 1290
                              },
                              "end": {
                                "line": 34,
                                "column": 58,
                                "offset": 1344
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 34,
                            "column": 4,
                            "offset": 1290
                          },
                          "end": {
                            "line": 34,
                            "column": 58,
                            "offset": 1344
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 34,
                        "column": 2,
                        "offset": 1288
                      },
                      "end": {
                        "line": 34,
                        "column": 58,
                        "offset": 1344
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "真逆のアンチパターンは、ビジネス例外の分岐のために try/catch が必要になるケース",
                            "position": {
                              "start": {
                                "line": 35,
                                "column": 4,
                                "offset": 1348
                              },
                              "end": {
                                "line": 35,
                                "column": 49,
                                "offset": 1393
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 35,
                            "column": 4,
                            "offset": 1348
                          },
                          "end": {
                            "line": 35,
                            "column": 49,
                            "offset": 1393
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "例：zod で入力値のバリデーションに safeParse ではなく parse を使う",
                                    "position": {
                                      "start": {
                                        "line": 36,
                                        "column": 5,
                                        "offset": 1398
                                      },
                                      "end": {
                                        "line": 36,
                                        "column": 49,
                                        "offset": 1442
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 36,
                                    "column": 5,
                                    "offset": 1398
                                  },
                                  "end": {
                                    "line": 36,
                                    "column": 49,
                                    "offset": 1442
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 36,
                                "column": 3,
                                "offset": 1396
                              },
                              "end": {
                                "line": 36,
                                "column": 49,
                                "offset": 1442
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 36,
                            "column": 3,
                            "offset": 1396
                          },
                          "end": {
                            "line": 36,
                            "column": 49,
                            "offset": 1442
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 35,
                        "column": 2,
                        "offset": 1346
                      },
                      "end": {
                        "line": 36,
                        "column": 49,
                        "offset": 1442
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 34,
                    "column": 2,
                    "offset": 1288
                  },
                  "end": {
                    "line": 36,
                    "column": 49,
                    "offset": 1442
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 33,
                "column": 1,
                "offset": 1220
              },
              "end": {
                "line": 36,
                "column": 49,
                "offset": 1442
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "フレームワークのエラーハンドリング機構に一括処理させたい場合は、アプリケーションのレイヤで受け取ったビジネス例外を明示的にスローするのもあり",
                    "position": {
                      "start": {
                        "line": 37,
                        "column": 3,
                        "offset": 1445
                      },
                      "end": {
                        "line": 37,
                        "column": 73,
                        "offset": 1515
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 37,
                    "column": 3,
                    "offset": 1445
                  },
                  "end": {
                    "line": 37,
                    "column": 73,
                    "offset": 1515
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "Remix の throw new Response() とか",
                            "position": {
                              "start": {
                                "line": 38,
                                "column": 4,
                                "offset": 1519
                              },
                              "end": {
                                "line": 38,
                                "column": 35,
                                "offset": 1550
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 38,
                            "column": 4,
                            "offset": 1519
                          },
                          "end": {
                            "line": 38,
                            "column": 35,
                            "offset": 1550
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 38,
                        "column": 2,
                        "offset": 1517
                      },
                      "end": {
                        "line": 38,
                        "column": 35,
                        "offset": 1550
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "典型的には ErrorCode を元に適切なエラーをスローする",
                            "position": {
                              "start": {
                                "line": 39,
                                "column": 4,
                                "offset": 1554
                              },
                              "end": {
                                "line": 39,
                                "column": 35,
                                "offset": 1585
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 39,
                            "column": 4,
                            "offset": 1554
                          },
                          "end": {
                            "line": 39,
                            "column": 35,
                            "offset": 1585
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 39,
                        "column": 2,
                        "offset": 1552
                      },
                      "end": {
                        "line": 39,
                        "column": 35,
                        "offset": 1585
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 38,
                    "column": 2,
                    "offset": 1517
                  },
                  "end": {
                    "line": 39,
                    "column": 35,
                    "offset": 1585
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 37,
                "column": 1,
                "offset": 1443
              },
              "end": {
                "line": 39,
                "column": 35,
                "offset": 1585
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "ビジネス例外と技術例外の境界はドメインによって変わりうる",
                    "position": {
                      "start": {
                        "line": 40,
                        "column": 3,
                        "offset": 1588
                      },
                      "end": {
                        "line": 40,
                        "column": 31,
                        "offset": 1616
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 40,
                    "column": 3,
                    "offset": 1588
                  },
                  "end": {
                    "line": 40,
                    "column": 31,
                    "offset": 1616
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ネットワークエラーを敢えて表示した方がよいケースもある",
                            "position": {
                              "start": {
                                "line": 41,
                                "column": 4,
                                "offset": 1620
                              },
                              "end": {
                                "line": 41,
                                "column": 31,
                                "offset": 1647
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 41,
                            "column": 4,
                            "offset": 1620
                          },
                          "end": {
                            "line": 41,
                            "column": 31,
                            "offset": 1647
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 41,
                        "column": 2,
                        "offset": 1618
                      },
                      "end": {
                        "line": 41,
                        "column": 31,
                        "offset": 1647
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "同一アプリケーションのレイヤによっても変わりうる",
                            "position": {
                              "start": {
                                "line": 42,
                                "column": 4,
                                "offset": 1651
                              },
                              "end": {
                                "line": 42,
                                "column": 28,
                                "offset": 1675
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 42,
                            "column": 4,
                            "offset": 1651
                          },
                          "end": {
                            "line": 42,
                            "column": 28,
                            "offset": 1675
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 42,
                        "column": 2,
                        "offset": 1649
                      },
                      "end": {
                        "line": 42,
                        "column": 28,
                        "offset": 1675
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 41,
                    "column": 2,
                    "offset": 1618
                  },
                  "end": {
                    "line": 42,
                    "column": 28,
                    "offset": 1675
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 40,
                "column": 1,
                "offset": 1586
              },
              "end": {
                "line": 42,
                "column": 28,
                "offset": 1675
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "上記区別とは別に、そもそもロジック上起きるはずがない例外（エラー）がある",
                    "position": {
                      "start": {
                        "line": 43,
                        "column": 3,
                        "offset": 1678
                      },
                      "end": {
                        "line": 43,
                        "column": 39,
                        "offset": 1714
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 43,
                    "column": 3,
                    "offset": 1678
                  },
                  "end": {
                    "line": 43,
                    "column": 39,
                    "offset": 1714
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "要は 500 エラー（モニタリングして継続的に発生を最小化すべき）",
                            "position": {
                              "start": {
                                "line": 44,
                                "column": 4,
                                "offset": 1718
                              },
                              "end": {
                                "line": 44,
                                "column": 37,
                                "offset": 1751
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 44,
                            "column": 4,
                            "offset": 1718
                          },
                          "end": {
                            "line": 44,
                            "column": 37,
                            "offset": 1751
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 44,
                        "column": 2,
                        "offset": 1716
                      },
                      "end": {
                        "line": 44,
                        "column": 37,
                        "offset": 1751
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "不適切なタイミングでのドメインロジックの呼び出し",
                            "position": {
                              "start": {
                                "line": 45,
                                "column": 4,
                                "offset": 1755
                              },
                              "end": {
                                "line": 45,
                                "column": 28,
                                "offset": 1779
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 45,
                            "column": 4,
                            "offset": 1755
                          },
                          "end": {
                            "line": 45,
                            "column": 28,
                            "offset": 1779
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "これは DomainError としてスローべき",
                                    "position": {
                                      "start": {
                                        "line": 46,
                                        "column": 5,
                                        "offset": 1784
                                      },
                                      "end": {
                                        "line": 46,
                                        "column": 29,
                                        "offset": 1808
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 46,
                                    "column": 5,
                                    "offset": 1784
                                  },
                                  "end": {
                                    "line": 46,
                                    "column": 29,
                                    "offset": 1808
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 46,
                                "column": 3,
                                "offset": 1782
                              },
                              "end": {
                                "line": 46,
                                "column": 29,
                                "offset": 1808
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "「ビジネス例外」と勘違いしがち",
                                    "position": {
                                      "start": {
                                        "line": 47,
                                        "column": 5,
                                        "offset": 1813
                                      },
                                      "end": {
                                        "line": 47,
                                        "column": 20,
                                        "offset": 1828
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 47,
                                    "column": 5,
                                    "offset": 1813
                                  },
                                  "end": {
                                    "line": 47,
                                    "column": 20,
                                    "offset": 1828
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 47,
                                "column": 3,
                                "offset": 1811
                              },
                              "end": {
                                "line": 47,
                                "column": 20,
                                "offset": 1828
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 46,
                            "column": 3,
                            "offset": 1782
                          },
                          "end": {
                            "line": 47,
                            "column": 20,
                            "offset": 1828
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 45,
                        "column": 2,
                        "offset": 1753
                      },
                      "end": {
                        "line": 47,
                        "column": 20,
                        "offset": 1828
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "制御フローの誤り",
                            "position": {
                              "start": {
                                "line": 48,
                                "column": 4,
                                "offset": 1832
                              },
                              "end": {
                                "line": 48,
                                "column": 12,
                                "offset": 1840
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 48,
                            "column": 4,
                            "offset": 1832
                          },
                          "end": {
                            "line": 48,
                            "column": 12,
                            "offset": 1840
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "正しく実装されていれば Unreachable なコード",
                                    "position": {
                                      "start": {
                                        "line": 49,
                                        "column": 5,
                                        "offset": 1845
                                      },
                                      "end": {
                                        "line": 49,
                                        "column": 33,
                                        "offset": 1873
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 49,
                                    "column": 5,
                                    "offset": 1845
                                  },
                                  "end": {
                                    "line": 49,
                                    "column": 33,
                                    "offset": 1873
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 49,
                                "column": 3,
                                "offset": 1843
                              },
                              "end": {
                                "line": 49,
                                "column": 33,
                                "offset": 1873
                              }
                            }
                          },
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "これも UnreachableError としてスローすべき",
                                    "position": {
                                      "start": {
                                        "line": 50,
                                        "column": 5,
                                        "offset": 1878
                                      },
                                      "end": {
                                        "line": 50,
                                        "column": 35,
                                        "offset": 1908
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 50,
                                    "column": 5,
                                    "offset": 1878
                                  },
                                  "end": {
                                    "line": 50,
                                    "column": 35,
                                    "offset": 1908
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 50,
                                "column": 3,
                                "offset": 1876
                              },
                              "end": {
                                "line": 50,
                                "column": 35,
                                "offset": 1908
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 49,
                            "column": 3,
                            "offset": 1843
                          },
                          "end": {
                            "line": 50,
                            "column": 35,
                            "offset": 1908
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 48,
                        "column": 2,
                        "offset": 1830
                      },
                      "end": {
                        "line": 50,
                        "column": 35,
                        "offset": 1908
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "この領域は適切に型を書けば守れることも多い",
                            "position": {
                              "start": {
                                "line": 51,
                                "column": 4,
                                "offset": 1912
                              },
                              "end": {
                                "line": 51,
                                "column": 25,
                                "offset": 1933
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 51,
                            "column": 4,
                            "offset": 1912
                          },
                          "end": {
                            "line": 51,
                            "column": 25,
                            "offset": 1933
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 51,
                        "column": 2,
                        "offset": 1910
                      },
                      "end": {
                        "line": 51,
                        "column": 25,
                        "offset": 1933
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 44,
                    "column": 2,
                    "offset": 1716
                  },
                  "end": {
                    "line": 51,
                    "column": 25,
                    "offset": 1933
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 43,
                "column": 1,
                "offset": 1676
              },
              "end": {
                "line": 51,
                "column": 25,
                "offset": 1933
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "アプリケーションとライブラリで例外設計の考え方は変わる",
                    "position": {
                      "start": {
                        "line": 52,
                        "column": 3,
                        "offset": 1936
                      },
                      "end": {
                        "line": 52,
                        "column": 30,
                        "offset": 1963
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 52,
                    "column": 3,
                    "offset": 1936
                  },
                  "end": {
                    "line": 52,
                    "column": 30,
                    "offset": 1963
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ライブラリは「どう使われるかわからない」",
                            "position": {
                              "start": {
                                "line": 53,
                                "column": 4,
                                "offset": 1967
                              },
                              "end": {
                                "line": 53,
                                "column": 24,
                                "offset": 1987
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 53,
                            "column": 4,
                            "offset": 1967
                          },
                          "end": {
                            "line": 53,
                            "column": 24,
                            "offset": 1987
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 53,
                        "column": 2,
                        "offset": 1965
                      },
                      "end": {
                        "line": 53,
                        "column": 24,
                        "offset": 1987
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "例外は「わたしはこの解像度までならエラーを識別できます」という宣言",
                            "position": {
                              "start": {
                                "line": 54,
                                "column": 4,
                                "offset": 1991
                              },
                              "end": {
                                "line": 54,
                                "column": 37,
                                "offset": 2024
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 54,
                            "column": 4,
                            "offset": 1991
                          },
                          "end": {
                            "line": 54,
                            "column": 37,
                            "offset": 2024
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 54,
                        "column": 2,
                        "offset": 1989
                      },
                      "end": {
                        "line": 54,
                        "column": 37,
                        "offset": 2024
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "Result でも throw でもよいが、何かしら呼び出し側で code や reason を分岐できる必要がある",
                            "position": {
                              "start": {
                                "line": 55,
                                "column": 4,
                                "offset": 2028
                              },
                              "end": {
                                "line": 55,
                                "column": 62,
                                "offset": 2086
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 55,
                            "column": 4,
                            "offset": 2028
                          },
                          "end": {
                            "line": 55,
                            "column": 62,
                            "offset": 2086
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 55,
                        "column": 2,
                        "offset": 2026
                      },
                      "end": {
                        "line": 55,
                        "column": 62,
                        "offset": 2086
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "モジュールは「アプリケーションの全体の責務分担の 1 つ」",
                            "position": {
                              "start": {
                                "line": 56,
                                "column": 4,
                                "offset": 2090
                              },
                              "end": {
                                "line": 56,
                                "column": 33,
                                "offset": 2119
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 56,
                            "column": 4,
                            "offset": 2090
                          },
                          "end": {
                            "line": 56,
                            "column": 33,
                            "offset": 2119
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 56,
                        "column": 2,
                        "offset": 2088
                      },
                      "end": {
                        "line": 56,
                        "column": 33,
                        "offset": 2119
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "そのモジュールがどこまでの解像度でエラーを識別するかは、むしろ呼び出し側の要請に拠る",
                            "position": {
                              "start": {
                                "line": 57,
                                "column": 4,
                                "offset": 2123
                              },
                              "end": {
                                "line": 57,
                                "column": 46,
                                "offset": 2165
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 57,
                            "column": 4,
                            "offset": 2123
                          },
                          "end": {
                            "line": 57,
                            "column": 46,
                            "offset": 2165
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 57,
                        "column": 2,
                        "offset": 2121
                      },
                      "end": {
                        "line": 57,
                        "column": 46,
                        "offset": 2165
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 53,
                    "column": 2,
                    "offset": 1965
                  },
                  "end": {
                    "line": 57,
                    "column": 46,
                    "offset": 2165
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 52,
                "column": 1,
                "offset": 1934
              },
              "end": {
                "line": 57,
                "column": 46,
                "offset": 2165
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "例外のスローという仕組みが、そもそもある種のホワイトリスト的な考え方",
                    "position": {
                      "start": {
                        "line": 58,
                        "column": 3,
                        "offset": 2168
                      },
                      "end": {
                        "line": 58,
                        "column": 37,
                        "offset": 2202
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 58,
                    "column": 3,
                    "offset": 2168
                  },
                  "end": {
                    "line": 58,
                    "column": 37,
                    "offset": 2202
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "自分が責任を持てる領域のみスローをやめて適切に処理するところから始める",
                            "position": {
                              "start": {
                                "line": 59,
                                "column": 4,
                                "offset": 2206
                              },
                              "end": {
                                "line": 59,
                                "column": 39,
                                "offset": 2241
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 59,
                            "column": 4,
                            "offset": 2206
                          },
                          "end": {
                            "line": 59,
                            "column": 39,
                            "offset": 2241
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 59,
                        "column": 2,
                        "offset": 2204
                      },
                      "end": {
                        "line": 59,
                        "column": 39,
                        "offset": 2241
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "それ以外はクラッシュさせる（クラッシュ寸前まで貫通させる）のがむしろ見通しが良い",
                            "position": {
                              "start": {
                                "line": 60,
                                "column": 4,
                                "offset": 2245
                              },
                              "end": {
                                "line": 60,
                                "column": 44,
                                "offset": 2285
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 60,
                            "column": 4,
                            "offset": 2245
                          },
                          "end": {
                            "line": 60,
                            "column": 44,
                            "offset": 2285
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 60,
                        "column": 2,
                        "offset": 2243
                      },
                      "end": {
                        "line": 60,
                        "column": 44,
                        "offset": 2285
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "必要に応じてその領域を拡大していけばよい",
                            "position": {
                              "start": {
                                "line": 61,
                                "column": 4,
                                "offset": 2289
                              },
                              "end": {
                                "line": 61,
                                "column": 24,
                                "offset": 2309
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 61,
                            "column": 4,
                            "offset": 2289
                          },
                          "end": {
                            "line": 61,
                            "column": 24,
                            "offset": 2309
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 61,
                        "column": 2,
                        "offset": 2287
                      },
                      "end": {
                        "line": 61,
                        "column": 24,
                        "offset": 2309
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "この原理を理解しておけば、とりあえず全体を try/catch で囲んでレイヤリングをする、というアンチパターンを防げる",
                            "position": {
                              "start": {
                                "line": 62,
                                "column": 4,
                                "offset": 2313
                              },
                              "end": {
                                "line": 62,
                                "column": 64,
                                "offset": 2373
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 62,
                            "column": 4,
                            "offset": 2313
                          },
                          "end": {
                            "line": 62,
                            "column": 64,
                            "offset": 2373
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 62,
                        "column": 2,
                        "offset": 2311
                      },
                      "end": {
                        "line": 62,
                        "column": 64,
                        "offset": 2373
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 59,
                    "column": 2,
                    "offset": 2204
                  },
                  "end": {
                    "line": 62,
                    "column": 64,
                    "offset": 2373
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 58,
                "column": 1,
                "offset": 2166
              },
              "end": {
                "line": 62,
                "column": 64,
                "offset": 2373
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "一番上位のレイヤでは全体を try/catch で囲んだ方がよさそうだが、これもケースバイケース",
                    "position": {
                      "start": {
                        "line": 63,
                        "column": 3,
                        "offset": 2376
                      },
                      "end": {
                        "line": 63,
                        "column": 51,
                        "offset": 2424
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 63,
                    "column": 3,
                    "offset": 2376
                  },
                  "end": {
                    "line": 63,
                    "column": 51,
                    "offset": 2424
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "サーバなど長時間動くプロセスがクラッシュするのはまずい",
                            "position": {
                              "start": {
                                "line": 64,
                                "column": 4,
                                "offset": 2428
                              },
                              "end": {
                                "line": 64,
                                "column": 31,
                                "offset": 2455
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 64,
                            "column": 4,
                            "offset": 2428
                          },
                          "end": {
                            "line": 64,
                            "column": 31,
                            "offset": 2455
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "フレームワークを使っているならたいてい拾ってくれる",
                                    "position": {
                                      "start": {
                                        "line": 65,
                                        "column": 5,
                                        "offset": 2460
                                      },
                                      "end": {
                                        "line": 65,
                                        "column": 30,
                                        "offset": 2485
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 65,
                                    "column": 5,
                                    "offset": 2460
                                  },
                                  "end": {
                                    "line": 65,
                                    "column": 30,
                                    "offset": 2485
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 65,
                                "column": 3,
                                "offset": 2458
                              },
                              "end": {
                                "line": 65,
                                "column": 30,
                                "offset": 2485
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 65,
                            "column": 3,
                            "offset": 2458
                          },
                          "end": {
                            "line": 65,
                            "column": 30,
                            "offset": 2485
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 64,
                        "column": 2,
                        "offset": 2426
                      },
                      "end": {
                        "line": 65,
                        "column": 30,
                        "offset": 2485
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "サーバレス関数の場合はそのままクラッシュさせてもよいかもしれない",
                            "position": {
                              "start": {
                                "line": 66,
                                "column": 4,
                                "offset": 2489
                              },
                              "end": {
                                "line": 66,
                                "column": 36,
                                "offset": 2521
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 66,
                            "column": 4,
                            "offset": 2489
                          },
                          "end": {
                            "line": 66,
                            "column": 36,
                            "offset": 2521
                          }
                        }
                      },
                      {
                        "type": "list",
                        "ordered": false,
                        "start": null,
                        "spread": false,
                        "children": [
                          {
                            "type": "listItem",
                            "spread": false,
                            "checked": null,
                            "children": [
                              {
                                "type": "paragraph",
                                "children": [
                                  {
                                    "type": "text",
                                    "value": "ただしプラットフォーム側のリトライ機構に乗せたくない場合は捕捉するのもあり",
                                    "position": {
                                      "start": {
                                        "line": 67,
                                        "column": 5,
                                        "offset": 2526
                                      },
                                      "end": {
                                        "line": 67,
                                        "column": 42,
                                        "offset": 2563
                                      }
                                    }
                                  }
                                ],
                                "position": {
                                  "start": {
                                    "line": 67,
                                    "column": 5,
                                    "offset": 2526
                                  },
                                  "end": {
                                    "line": 67,
                                    "column": 42,
                                    "offset": 2563
                                  }
                                }
                              }
                            ],
                            "position": {
                              "start": {
                                "line": 67,
                                "column": 3,
                                "offset": 2524
                              },
                              "end": {
                                "line": 67,
                                "column": 42,
                                "offset": 2563
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 67,
                            "column": 3,
                            "offset": 2524
                          },
                          "end": {
                            "line": 67,
                            "column": 42,
                            "offset": 2563
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 66,
                        "column": 2,
                        "offset": 2487
                      },
                      "end": {
                        "line": 67,
                        "column": 42,
                        "offset": 2563
                      }
                    }
                  },
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "バッチ処理の場合は必ず捕捉してログを取ったりしたい",
                            "position": {
                              "start": {
                                "line": 68,
                                "column": 4,
                                "offset": 2567
                              },
                              "end": {
                                "line": 68,
                                "column": 29,
                                "offset": 2592
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 68,
                            "column": 4,
                            "offset": 2567
                          },
                          "end": {
                            "line": 68,
                            "column": 29,
                            "offset": 2592
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 68,
                        "column": 2,
                        "offset": 2565
                      },
                      "end": {
                        "line": 68,
                        "column": 29,
                        "offset": 2592
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 64,
                    "column": 2,
                    "offset": 2426
                  },
                  "end": {
                    "line": 68,
                    "column": 29,
                    "offset": 2592
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 63,
                "column": 1,
                "offset": 2374
              },
              "end": {
                "line": 68,
                "column": 29,
                "offset": 2592
              }
            }
          },
          {
            "type": "listItem",
            "spread": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "そもそも「ビジネス例外」と「技術例外」という区分自体が、アプリケーションの例外設計のための考え方であるとも言える",
                    "position": {
                      "start": {
                        "line": 69,
                        "column": 3,
                        "offset": 2595
                      },
                      "end": {
                        "line": 69,
                        "column": 59,
                        "offset": 2651
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 69,
                    "column": 3,
                    "offset": 2595
                  },
                  "end": {
                    "line": 69,
                    "column": 59,
                    "offset": 2651
                  }
                }
              },
              {
                "type": "list",
                "ordered": false,
                "start": null,
                "spread": false,
                "children": [
                  {
                    "type": "listItem",
                    "spread": false,
                    "checked": null,
                    "children": [
                      {
                        "type": "paragraph",
                        "children": [
                          {
                            "type": "text",
                            "value": "ライブラリはアプリケーションではないので、ビジネス例外を Result にせず、全部例外としてスローしておく方がよいケースもある",
                            "position": {
                              "start": {
                                "line": 70,
                                "column": 4,
                                "offset": 2655
                              },
                              "end": {
                                "line": 70,
                                "column": 68,
                                "offset": 2719
                              }
                            }
                          }
                        ],
                        "position": {
                          "start": {
                            "line": 70,
                            "column": 4,
                            "offset": 2655
                          },
                          "end": {
                            "line": 70,
                            "column": 68,
                            "offset": 2719
                          }
                        }
                      }
                    ],
                    "position": {
                      "start": {
                        "line": 70,
                        "column": 2,
                        "offset": 2653
                      },
                      "end": {
                        "line": 70,
                        "column": 68,
                        "offset": 2719
                      }
                    }
                  }
                ],
                "position": {
                  "start": {
                    "line": 70,
                    "column": 2,
                    "offset": 2653
                  },
                  "end": {
                    "line": 70,
                    "column": 68,
                    "offset": 2719
                  }
                }
              }
            ],
            "position": {
              "start": {
                "line": 69,
                "column": 1,
                "offset": 2593
              },
              "end": {
                "line": 70,
                "column": 68,
                "offset": 2719
              }
            }
          }
        ],
        "position": {
          "start": {
            "line": 9,
            "column": 1,
            "offset": 86
          },
          "end": {
            "line": 70,
            "column": 68,
            "offset": 2719
          }
        }
      }
    ],
    "position": {
      "start": {
        "line": 1,
        "column": 1,
        "offset": 0
      },
      "end": {
        "line": 71,
        "column": 1,
        "offset": 2720
      }
    }
  }
}